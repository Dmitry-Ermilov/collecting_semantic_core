<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–°–±–æ—Ä —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ —è–¥—Ä–∞</title>
<style>
body { font-family: Arial; margin: 20px; background: #f7f7f7; }
.container { max-width: 400px; margin: 0 auto; background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
h2 { text-align: center; }
input, select, button { width: 100%; padding: 10px; margin: 10px 0; font-size: 16px; border-radius: 5px; border: 1px solid #ccc; }
button { background: #0088cc; color: #fff; border: none; cursor: pointer; }
button:hover { background: #006699; }
.status { margin-top: 15px; text-align: center; }
</style>
</head>
<body>
<div class="container">
  <h2>–°–±–æ—Ä —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ —è–¥—Ä–∞</h2>
  <input id="phraseInput" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ñ—Ä–∞–∑—É">
  <select id="regionSelect">
    <option value="0">–í—Å—è –†–æ—Å—Å–∏—è</option>
    <option value="1">–ú–æ—Å–∫–≤–∞</option>
    <option value="2">–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥</option>
    <option value="3">–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫</option>
    <option value="4">–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥</option>
    <option value="5">–ö–∞–∑–∞–Ω—å</option>
  </select>
  <button id="sendDataBtn">–ü–æ–ª—É—á–∏—Ç—å —Ñ–∞–π–ª</button>
  <div class="status" id="status"></div>
</div>

<script>
const tg = window.Telegram?.WebApp;
const statusDiv = document.getElementById("status");
const phraseInput = document.getElementById("phraseInput");
const regionSelect = document.getElementById("regionSelect");
const sendBtn = document.getElementById("sendDataBtn");

if (!tg) {
  statusDiv.style.color = "red";
  statusDiv.textContent = "‚ùå –û—Ç–∫—Ä–æ–π—Ç–µ WebApp —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞!";
  sendBtn.disabled = true;
} else {
  tg.expand();
  statusDiv.style.color = "green";
  statusDiv.textContent = "‚úÖ WebApp API –¥–æ—Å—Ç—É–ø–µ–Ω!";

  sendBtn.addEventListener("click", () => {
    const phrase = phraseInput.value.trim();
    const region = regionSelect.value;

    if (!phrase) {
      statusDiv.style.color = "red";
      statusDiv.textContent = "‚ö† –í–≤–µ–¥–∏—Ç–µ —Ñ—Ä–∞–∑—É!";
      return;
    }

    tg.sendData(JSON.stringify({ phrase, region }));
    statusDiv.style.color = "blue";
    statusDiv.textContent = "üì® –î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –±–æ—Ç—É...";
  });
}
</script>
</body>
</html>
